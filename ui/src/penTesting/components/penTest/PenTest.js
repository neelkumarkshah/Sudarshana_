import React, { useState } from "react";
import { Row, Col } from "react-bootstrap";
import PenTestForm from "../pentestForm/PentestForm";
import Result from "../result/Result";

const PenTest = () => {
  const [scanResult, setScanResult] = useState(null);
  const [formEnabled, setFormEnabled] = useState(true);

  const [formFields, setFormFields] = useState({
    url: "",
    applicationName: "",
    scanType: "default",
  });

  const handleScanResult = (result) => {
    setScanResult(result);
  };

  const handleReset = () => {
    setScanResult(null);
    setFormEnabled(true);
    setFormFields({
      url: "",
      applicationName: "",
      scanType: "default",
    });
  };

  const handleStartScan = () => {
    setFormEnabled(false);
  };

  return (
    <Row>
      <Col sm={12} md={12} lg={12}>
        <PenTestForm
          onScanResult={handleScanResult}
          formFields={formFields}
          setFormFields={setFormFields}
          formEnabled={formEnabled}
          handleStartScan={handleStartScan}
        />
      </Col>
      <Col sm={12} md={12} lg={12}>
        <Result scanResult={scanResult} onReset={handleReset} />
      </Col>
    </Row>
  );
};

export default PenTest;
